define ("mod_verbalfeedback/edit_items",["jquery","core/templates","core/notification","core/ajax","core/str","core/yui"],function(a,b,c,d){var e={CATEGORY_PERCENTAGE_CHANGED:"[data-action=\"change-category-percentage\"]",ITEM_MULTIPLIER_CHANGED:"[data-action=\"change-item-multiplier\"]"},f=function(){this.registerEvents()},g=function(){var b=0;a(".category-percentage").each(function(){b+=parseFloat(a(this).val())});if(1!=b){a(".category-percentage").addClass("is-invalid");a("#percentage-total").addClass("text-danger");a("#percentage-total-value").text(parseFloat(100*b).toFixed(2))}else{a(".category-percentage").removeClass("is-invalid");a("#percentage-total").removeClass("text-danger");a("#percentage-total-value").text(parseFloat(100*b).toFixed(2))}};f.callCategoryAction=function(b,e){g();var f=d.call([{methodname:b,args:{categoryid:e.data("categoryid"),percentage:e.val()}}]);f[0].done(function(b){if(b.success){e.next().stop(!0,!0).show().fadeOut(1e3)}else{var c=b.warnings.join(a("<br/>"));throw new Error(c)}}).fail(c.exception)};f.callItemAction=function(b,e){var f=d.call([{methodname:b,args:{itemid:e.data("itemid"),multiplier:e.val()}}]);f[0].done(function(b){if(b.success){e.next().stop(!0,!0).show().fadeOut(1e3)}else{var c=b.warnings.join(a("<br />"));throw new Error(c)}}).fail(c.exception)};f.prototype.registerEvents=function(){a(e.CATEGORY_PERCENTAGE_CHANGED).change(function(b){b.preventDefault();f.callCategoryAction("mod_verbalfeedback_update_category_percentage",a(this))});a(e.ITEM_MULTIPLIER_CHANGED).change(function(b){b.preventDefault();if(5<this.value){this.value=5}this.value=parseFloat(this.value).toFixed(2);f.callItemAction("mod_verbalfeedback_update_item_multiplier",a(this))})};f.prototype.updatePercentageSum=g;return f});
//# sourceMappingURL=edit_items.min.js.map
